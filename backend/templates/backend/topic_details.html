{% extends "base.html" %}

{% block content %}

<h1>Topic {{ topic.pk }}</h1>
<p>Text: {{ topic.text }} </p>
<p>Bloom: {{ topic.bloom_index }} {% if topic.mobile %}mobile{% endif %}</p>
<p>Antes: {% for ante in topic.antes %}<a href="{% url 'backend:topic_details' ante.pk %}">{{ ante.pk }}</a>, {% endfor %}</p>
<p>Posts: {% for post in topic.posts %}<a href="{% url 'backend:topic_details' post.pk %}">{{ post.pk }}</a>, {% endfor %}</p>
<p>Classrooms: {% for classroom in topic.classrooms %}<a href="{% url 'backend:classroom_details' classroom.serial %}">{{ classroom.serial }}</a>, {% endfor %}</p>
<hr />
<form method="post" action="{% url 'backend:topic_details' topic.pk %}" autocomplete="off">
{% csrf_token %}
<p>Text: <input type="text" name="text" value="{{ topic.text }}" /></p><hr />
<p>Bloom: <input type="text" name="bloom_index" value="{{ topic.bloom_index }}" /> mobile <input type="checkbox" name="mobile" {% if topic.mobile %}checked{% endif %}</p><hr />
<p>Antes: add one<input type="text" name="new_ante" value="" />
<ol>
    {% for ante in topic.antes %}
    <li>
        <input type="checkbox" name="antes_checkbox_{{ ante.pk }}" checked/> {{ ante.pk }}
    </li>
    {% endfor %}
</ol></p><hr />
<p>Posts: add one<input type="text" name="new_post"/>
<ol>
    {% for post in topic.posts %}
    <li>
        <input type="checkbox" name="posts_checkbox_{{ post.pk }}" checked/> {{ post.pk }}
    </li>
    {% endfor %}
</ol></p><hr />
<p>Classrooms:<ol>
    {% for classroom in classrooms %}
    <li>
        <input type="checkbox" name="classroom_checkbox_{{ classroom.serial }}" {% if classroom in topic.classrooms %}checked{% endif %} /> {{ classroom.serial }}
    </li>
    {% endfor %}
</ol></p>
<input type="submit" value="salva" />
</form>

{% endblock %}